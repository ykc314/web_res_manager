# Web Reservation Manager

é¢¨ä¿—åº—ãƒãƒ¼ã‚¿ãƒ«ã‚µã‚¤ãƒˆã®äºˆç´„ä¸€å…ƒç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

## æ¦‚è¦

è¤‡æ•°ã®é¢¨ä¿—åº—ãƒãƒ¼ã‚¿ãƒ«ã‚µã‚¤ãƒˆã®äºˆç´„æƒ…å ±ã‚’ä¸€å…ƒç®¡ç†ã—ã€åŠ¹ç‡çš„ãªäºˆç´„ç®¡ç†ã‚’å®Ÿç¾ã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

## ä¸»ãªæ©Ÿèƒ½

- ğŸ” **ãƒ­ã‚°ã‚¤ãƒ³èªè¨¼** - ã‚»ã‚­ãƒ¥ã‚¢ãªãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼
- ğŸ“‹ **IDãƒ»PASSç™»éŒ²** - å¤–éƒ¨ã‚µã‚¤ãƒˆã®èªè¨¼æƒ…å ±ç®¡ç†
- ğŸ“… **äºˆç´„çŠ¶æ³è¡¨ç¤º** - æ™‚é–“è»¸ã§ã®äºˆç´„çŠ¶æ³ä¸€è¦§
- ğŸ“Š **ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç®¡ç†** - ã‚«ãƒ†ã‚´ãƒªåˆ¥ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºãƒ»ç®¡ç†
- âš™ï¸ **ã‚·ã‚¹ãƒ†ãƒ è¨­å®š** - è‡ªå‹•å–å¾—ãƒ»ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®š
- ğŸ¤– **è‡ªå‹•ãƒ‡ãƒ¼ã‚¿å–å¾—** - å¤–éƒ¨ã‚µã‚¤ãƒˆã‹ã‚‰ã®æƒ…å ±è‡ªå‹•åŒæœŸ

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- React 18
- JavaScript (ES6+)
- Bootstrap 5
- Axios (HTTP client)

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- Node.js
- Express.js
- MySQL 8.0
- JWTèªè¨¼
- Puppeteer (ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°)

### é–‹ç™ºãƒ»é‹ç”¨
- Docker & Docker Compose
- npm
- Jest (ãƒ†ã‚¹ãƒˆ)

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å‰ææ¡ä»¶
- Node.js 16ä»¥ä¸Š
- npm 8ä»¥ä¸Š
- Docker & Docker Compose (æ¨å¥¨)

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
```bash
git clone https://github.com/ykc314/web_res_manager.git
cd web_res_manager
```

### 2. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
npm run install:all
```

### 3. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
```bash
cp .env.example .env
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦è¨­å®šã‚’èª¿æ•´
```

### 4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®èµ·å‹•ï¼ˆDockerä½¿ç”¨ï¼‰
```bash
npm run docker:up
```

### 5. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
```bash
npm run dev
```

### 6. ã‚¢ã‚¯ã‚»ã‚¹
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: http://localhost:3000
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API**: http://localhost:3001
- **phpMyAdmin**: http://localhost:8080

## ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±

```
ãƒ¦ãƒ¼ã‚¶ãƒ¼å: admin
ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: admin123
```

## ã‚¹ã‚¯ãƒªãƒ—ãƒˆä¸€è¦§

| ã‚¹ã‚¯ãƒªãƒ—ãƒˆ | èª¬æ˜ |
|------------|------|
| `npm run dev` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ»ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åŒæ™‚èµ·å‹• |
| `npm run client:dev` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã¿èµ·å‹• |
| `npm run server:dev` | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã¿èµ·å‹• |
| `npm run build` | æœ¬ç•ªç”¨ãƒ“ãƒ«ãƒ‰ |
| `npm run test` | ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ |
| `npm run docker:up` | Dockerç’°å¢ƒèµ·å‹• |
| `npm run docker:down` | Dockerç’°å¢ƒåœæ­¢ |
| `npm run install:all` | å…¨ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« |

## API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### èªè¨¼
- `POST /api/auth/login` - ãƒ­ã‚°ã‚¤ãƒ³
- `POST /api/auth/logout` - ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
- `GET /api/auth/me` - ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—

### èªè¨¼æƒ…å ±ç®¡ç†
- `GET /api/credentials` - èªè¨¼æƒ…å ±ä¸€è¦§
- `POST /api/credentials` - èªè¨¼æƒ…å ±ç™»éŒ²
- `PUT /api/credentials/:id` - èªè¨¼æƒ…å ±æ›´æ–°
- `POST /api/credentials/:id/verify` - èªè¨¼æƒ…å ±æ¤œè¨¼

### äºˆç´„ç®¡ç†
- `GET /api/bookings` - äºˆç´„ä¸€è¦§
- `GET /api/bookings/:date` - æŒ‡å®šæ—¥ã®äºˆç´„
- `POST /api/sync/women` - å¥³æ€§æƒ…å ±åŒæœŸ
- `POST /api/sync/bookings` - äºˆç´„æƒ…å ±åŒæœŸ

### ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°
- `GET /api/errors` - ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ä¸€è¦§
- `GET /api/errors/:type` - ã‚¿ã‚¤ãƒ—åˆ¥ã‚¨ãƒ©ãƒ¼
- `PUT /api/errors/:id/resolve` - ã‚¨ãƒ©ãƒ¼è§£æ±º

### ã‚·ã‚¹ãƒ†ãƒ è¨­å®š
- `GET /api/settings` - è¨­å®šä¸€è¦§
- `PUT /api/settings` - è¨­å®šæ›´æ–°

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
web_res_manager/
â”œâ”€â”€ client/                 # React ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ services/       # APIé€šä¿¡
â”‚   â”‚   â””â”€â”€ styles/         # ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ
â”œâ”€â”€ server/                 # Node.js ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/    # ãƒ«ãƒ¼ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”‚   â”‚   â”œâ”€â”€ models/         # ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”œâ”€â”€ routes/         # ãƒ«ãƒ¼ãƒˆå®šç¾©
â”‚   â”‚   â”œâ”€â”€ services/       # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â””â”€â”€ middleware/     # ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”œâ”€â”€ database/               # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢é€£
â””â”€â”€ docs/                   # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
```

## é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### 1. æ–°æ©Ÿèƒ½é–‹ç™º
```bash
# æ–°ã—ã„ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
git checkout -b feature/new-feature

# é–‹ç™º
# ...

# ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥
git add .
git commit -m "Add new feature"
git push origin feature/new-feature
```

### 2. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```bash
npm run test
```

### 3. æœ¬ç•ªãƒ“ãƒ«ãƒ‰
```bash
npm run build
```

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†

### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
```bash
docker exec web_res_manager_db mysqldump -u root -ppassword web_res_manager > backup.sql
```

### ãƒªã‚¹ãƒˆã‚¢
```bash
docker exec -i web_res_manager_db mysql -u root -ppassword web_res_manager < backup.sql
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

1. **ãƒãƒ¼ãƒˆãŒä½¿ç”¨ä¸­ã®å ´åˆ**
   ```bash
   # ãƒãƒ¼ãƒˆç¢ºèª
   lsof -i :3000
   lsof -i :3001
   
   # ãƒ—ãƒ­ã‚»ã‚¹çµ‚äº†
   kill -9 <PID>
   ```

2. **Dockeré–¢é€£ã®å•é¡Œ**
   ```bash
   # ã‚³ãƒ³ãƒ†ãƒŠãƒªã‚»ãƒƒãƒˆ
   npm run docker:down
   docker system prune -f
   npm run docker:up
   ```

3. **ä¾å­˜é–¢ä¿‚ã®å•é¡Œ**
   ```bash
   # node_moduleså‰Šé™¤ãƒ»å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
   rm -rf node_modules client/node_modules server/node_modules
   npm run install:all
   ```

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

## è²¢çŒ®

ãƒã‚°å ±å‘Šã‚„æ©Ÿèƒ½è¿½åŠ ã®ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ­“è¿ã—ã¾ã™ã€‚

## ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€GitHubã®Issuesã«å ±å‘Šã—ã¦ãã ã•ã„ã€‚